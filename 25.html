<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>自定义指令</title>
  <script src='node_modules/vue/dist/vue.js'></script>
</head>
<body>
<h1>自定义指令</h1>
<h2>基础</h2>
<h3>钩子函数</h3>
<h3>指令实例属性</h3>
<div id='demo' v-demo:hello.a.vb='msg'></div>
<script>
  Vue.directive('demo',{
    bind: function(){
      console.log('demo bound!');
    },
    update: function(value){
      this.el.innerHTML =
        'name -' + this.name + '<br>' +
        'expression -' + this.expression + '<br>' +
        'argument -' + this.arg + '<br>' +
        'modifiers -' + JSON.stringify(this.modifiers) + '<br>' +
        'value -' + value;

    },
    unbind: function(){
      console.log('demo unbound!');
    }
  })
  new Vue({
    el: '#demo',
    data: {
      msg: 'Hello Vue.js'
    }
  })
</script>
<h3>对象字面量</h3>
<div id='demo-2' v-demo="{color: 'white', text: 'hello!'}"></div>
<script>
  Vue.directive('demo',{
    bind: function(){
      console.log('demo bound!');
    },
    update: function(value){
      console.log(value.color);
      console.log(value.text);
    },
    unbind: function(){
      console.log('demo unbound!');
    }
  })
  new Vue({
    el: '#demo-2',
    data: {
      msg: 'Hello Vue.js'
    }
  })
</script>
<h3>字面修饰符</h3>
<div id='demo-3' v-demo.literal="foo bar baz"></div>
<script>
  Vue.directive('demo',{
    bind: function(){
      console.log('demo bound!');
    },
    update: function(value){
      console.log(value);
    },
    unbind: function(){
      console.log('demo unbound!');
    }
  })
  new Vue({
    el: '#demo-3',
    data: {
      msg: 'Hello Vue.js'
    }
  })
</script>
</body>
</html>
